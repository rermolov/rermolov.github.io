<!DOCTYPE html>
<html>
<head>
  <title>JS API Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript">
    function changeHref() {
      var url = "yellowskin://?background_color=%23ff2400&buttons_color=%23ffffff&omnibox_color=%23ff4f00&status_bar_theme=dark&text_color=%23ffffff&url=" + escape(document.URL);
      document.getElementById("samePageYS").href = url;
    }
    window.onload = changeHref;
  </script>
</head>
<body>
  <script type="text/javascript">
    function onAuthDialogFinished(success) {
      document.getElementById("authState").innerText = success ? "authorized" : "not authorized";
    }

    function openAuthDialog(style) {
      document.getElementById("authState").innerText = "none";
      window.YandexApplicationsAPIBackend.on('EVENT_AUTH_FINISHED', onAuthDialogFinished);
      window.YandexApplicationsAPIBackend.openAuthDialog(style);
    }
</script>

  <a href = "#" id="samePageYS">Open this page as YellowSkin</a>
  <br>
  <br>
  AuthDialog API:
  <br>
  <a href = "#" onClick="openAuthDialog('dark')">openAuthDialog('dark')</a>
  <br>
  <a href = "#" onClick="openAuthDialog('light')">openAuthDialog('light')</a>
  <br>
  <a href = "#" onClick="openAuthDialog('light', 'customSource')">openAuthDialog('dark','customSource')</a>
  <br>
  auth state:&nbsp;
  <span id="authState">none</span>
</body>
</html>
